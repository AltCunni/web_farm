<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Администрирование блога</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <style>
    body {
      background-color: rgba(115, 172, 169, 0.82);
    }
  </style>
</head>
<body>
<blockquote class="blockquote text-center"><h1>Администрирование блога</h1></blockquote>

<!-- Кнопка "Назад" -->
<div class="text-center mb-3">
  <a th:href="@{/menu}">
    <button type="button" class="btn btn-secondary" style="border: 1px solid #373434;">
      Назад
    </button>
  </a>
</div>

<!--<div class="row">-->
<!--    <div class="col-md-8 offset-md-4">-->
<!--        <h4>Поиск записи по любому критерию:</h4>-->
<!--        <form th:action="@{/admin/blog/}" method="get">-->
<!--            <input type="text" name="keyword" id="keyword" size="70" th:value="${keyword}" required/>-->
<!--            <input type="submit" class="btn btn-success btn-sm" style="border: 1px solid #373434;" value="Поиск"/>-->
<!--            <input type="button" class="btn btn-warning btn-sm" style="border: 1px solid #373434;" value="Очистить"-->
<!--                   id="btnClear" onclick="clearSearch()"/>-->
<!--        </form>-->
<!--    </div>-->
<!--</div>-->

<a th:href="@{/admin/blog/sort}">
  <button type="button" class="btn-info btn-sm" style="border: 1px solid #373434;">Сортировать по дате публикации</button>
</a>
<!--<a th:href="@{/admin/blog/hist}">-->
<!--    <button type="button" class="btn-info btn-sm" style="border: 1px solid #373434;">Показать гистограмму</button>-->
<!--</a>-->
<!--<a th:href="@{/admin/blog/table}">-->
<!--    <button type="button" class="btn-info btn-sm" style="border: 1px solid #373434;">Таблица</button>-->
<!--</a>-->

<table id="blogTable" class="table table-striped table-hover">
  <thead>
  <tr>
    <th style="background-color: #73ACA9D1;" scope="col">ID записи</th>
    <th style="background-color: rgba(96,142,140,0.82);" scope="col">Название записи</th>
    <th style="background-color: #73ACA9D1;" scope="col">Автор</th>
    <th style="background-color: rgba(96,142,140,0.82);" scope="col">Дата публикации</th>
    <th style="background-color: #73ACA9D1;" scope="col">Действия</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="post : ${listPosts}">
    <th scope="row" class="text-gray" th:text="${post.id}">ID записи отсутствует</th>
    <td class="text-gray" th:text="${post.title}">Название записи отсутствует</td>
    <td class="text-gray" th:text="${post.author}">Автор отсутствует</td>
    <td class="text-gray" th:text="${post.datePublisher}">Дата публикации отсутствует</td>
    <td>
      <a th:href="@{/admin/blog/edit/{id}(id=${post.id})}">
        <button type="button" class="btn btn-info">Редактировать</button>
      </a>
      <a th:href="@{/admin/blog/delete/{id}(id=${post.id})}">
        <button type="button" class="btn btn-danger">Удалить</button>
      </a>
    </td>
  </tr>
  </tbody>
</table>

<p class="text-gray">
  <script type="text/javascript">
    function getRowsColumn() {
      let table = document.getElementById(' blogTable');
      let tBody = table.querySelector('tbody');
      const count = tBody.querySelectorAll('tr').length;
      document.write('Количество записей: ' + count);
    }

    getRowsColumn();
  </script>
</p>

<a th:href="@{/admin/blog/new}">
  <button type="button" class="btn btn-primary" data-toggle="button" aria-pressed="false" autocomplete="off"
          style="border: 1px solid #373434;">
    Добавить запись
  </button>
</a>

<script type="text/javascript">
  function clearSearch() {
    window.location = "[[@{/admin/blog/}]]";
  }
</script>
</body>
</html>